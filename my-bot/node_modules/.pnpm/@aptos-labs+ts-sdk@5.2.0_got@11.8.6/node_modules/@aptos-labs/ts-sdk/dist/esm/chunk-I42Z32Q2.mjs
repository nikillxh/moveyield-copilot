import{b as M}from"./chunk-STY74NUA.mjs";import{a as B,b as U,c as f,d as l,e as u,f as b,g as c,h as g,i as y,j as A,k as p,l as z,m as _,n as N,o as d,p as m,q as w,r as T}from"./chunk-X2TPNKLV.mjs";import{a as r}from"./chunk-KDMSOCZY.mjs";var x=class{bcsToBytes(){let e=new n;return this.serialize(e),e.toUint8Array()}bcsToHex(){let e=this.bcsToBytes();return M.fromHexInput(e)}toStringWithoutPrefix(){return this.bcsToHex().toStringWithoutPrefix()}toString(){return`0x${this.toStringWithoutPrefix()}`}},n=class{constructor(e=64){if(e<=0)throw new Error("Length needs to be greater than 0");this.buffer=new ArrayBuffer(e),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){let t=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}appendToBuffer(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,i){this.ensureBufferWillHandleSize(t);let a=new DataView(this.buffer,this.offset);e.apply(a,[0,i,!0]),this.offset+=t}serializeStr(e){let t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.appendToBuffer(e)}serializeFixedBytes(e){this.appendToBuffer(e)}serializeBool(e){E(e);let t=e?1:0;this.appendToBuffer(new Uint8Array([t]))}serializeU8(e){this.appendToBuffer(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){let t=BigInt(e)&BigInt(f),i=BigInt(e)>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(i))}serializeU128(e){let t=BigInt(e)&l,i=BigInt(e)>>BigInt(64);this.serializeU64(t),this.serializeU64(i)}serializeU256(e){let t=BigInt(e)&u,i=BigInt(e)>>BigInt(128);this.serializeU128(t),this.serializeU128(i)}serializeI8(e){this.serializeWithFunction(DataView.prototype.setInt8,1,e)}serializeI16(e){this.serializeWithFunction(DataView.prototype.setInt16,2,e)}serializeI32(e){this.serializeWithFunction(DataView.prototype.setInt32,4,e)}serializeI64(e){let t=BigInt(e),i=t<0?(BigInt(1)<<BigInt(64))+t:t,a=i&BigInt(f),h=i>>BigInt(32);this.serializeU32(Number(a)),this.serializeU32(Number(h))}serializeI128(e){let t=BigInt(e),i=t<0?(BigInt(1)<<BigInt(128))+t:t,a=i&l,h=i>>BigInt(64);this.serializeU64(a),this.serializeU64(h)}serializeI256(e){let t=BigInt(e),i=t<0?(BigInt(1)<<BigInt(256))+t:t,a=i&u,h=i>>BigInt(128);this.serializeU128(a),this.serializeU128(h)}serializeU32AsUleb128(e){let t=e,i=[];for(;t>>>7;)i.push(t&127|128),t>>>=7;i.push(t),this.appendToBuffer(new Uint8Array(i))}toUint8Array(){return new Uint8Array(this.buffer).slice(0,this.offset)}serialize(e){e.serialize(this)}serializeVector(e){this.serializeU32AsUleb128(e.length),e.forEach(t=>{t.serialize(this)})}serializeOption(e,t){let i=e!==void 0;this.serializeBool(i),i&&(typeof e=="string"?this.serializeStr(e):e instanceof Uint8Array?t!==void 0?this.serializeFixedBytes(e):this.serializeBytes(e):e.serialize(this))}serializeOptionStr(e){e===void 0?this.serializeU32AsUleb128(0):(this.serializeU32AsUleb128(1),this.serializeStr(e))}};r([s(0,B)],n.prototype,"serializeU8",1),r([s(0,U)],n.prototype,"serializeU16",1),r([s(0,f)],n.prototype,"serializeU32",1),r([s(BigInt(0),l)],n.prototype,"serializeU64",1),r([s(BigInt(0),u)],n.prototype,"serializeU128",1),r([s(BigInt(0),b)],n.prototype,"serializeU256",1),r([s(c,g)],n.prototype,"serializeI8",1),r([s(y,A)],n.prototype,"serializeI16",1),r([s(p,z)],n.prototype,"serializeI32",1),r([s(_,N)],n.prototype,"serializeI64",1),r([s(d,m)],n.prototype,"serializeI128",1),r([s(w,T)],n.prototype,"serializeI256",1),r([s(0,f)],n.prototype,"serializeU32AsUleb128",1);function E(o){if(typeof o!="boolean")throw new Error(`${o} is not a boolean value`)}var R=(o,e,t)=>`${o} is out of range: [${e}, ${t}]`;function W(o,e,t){let i=BigInt(o);if(i>BigInt(t)||i<BigInt(e))throw new Error(R(o,e,t))}function s(o,e){return(t,i,a)=>{let h=a.value;return a.value=function(I){return W(I,o,e),h.apply(this,[I])},a}}export{x as a,n as b,E as c,R as d,W as e};
//# sourceMappingURL=chunk-I42Z32Q2.mjs.map